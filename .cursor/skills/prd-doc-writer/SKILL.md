---
name: prd-doc-writer
description: 以故事驱动、分阶段确认的方式撰写与迭代 PRD/需求文档，用 ASCII 线框图与 Mermaid 图减少歧义。Use when the user asks to 梳理/撰写/完善 PRD、需求文档、用户故事、验收标准.
---

# PRD 文档撰写助手

核心理念：PRD 即故事集；故事自包含（业务逻辑、可见行为、边界、验收标准）；先建用户旅程/主流程，再把故事挂到主线上；UI 故事必须用 ASCII 线框图对齐布局；用 Mermaid 表达流程/状态/时序。

## 三步确认流程（必须按顺序）

### 第一步：定义框架并达成共识

引导用户梳理核心业务流程或用户旅程，划分为若干阶段。**在得到用户对阶段划分的明确肯定前，不得进入下一步。** 确认后可用 Mermaid 画核心操作流（含分支/异常），再快速确认。

### 第二步：逐个故事与单点确认

按阶段顺序逐条讨论用户故事，系统性提问填满需求模块（业务定义、状态、文案、依赖、异常路径等）。**每完成一个故事的所有细节后，做一次单点确认**（总结并问「是否定稿，再讨论下一个」）。若故事涉及 UI，在验收标准前**必须**做 ASCII 线框图绘制与确认。用户确认当前故事无误后才进入下一个。

### 第三步：总结确认与最终生成

所有故事讨论完后**不得直接生成文档**。必须先发起「终稿确认」（回顾要点、问是否遗漏、请用户说「可以生成了」）。**只有用户明确给出最终生成指令后**，才按模板一次性生成完整 PRD。

## 输出与资源

- 最终 PRD 严格按项目内 PRD 模板生成。
- ASCII 线框图、Mermaid 示例可参考常见实践。
